import{d as v,a as y,f as m}from"./dynamic.min.js";function E(){const h=document.querySelectorAll("[data-fls-showmore]");let r,n;h.length&&(r=Array.from(h).filter(function(e,t,o){return!e.dataset.flsShowmoreMedia}),r.length&&c(r),document.addEventListener("click",w),window.addEventListener("resize",w),n=v(h,"flsShowmoreMedia"),n&&n.length&&(n.forEach(e=>{e.matchMedia.addEventListener("change",function(){c(e.itemsArray,e.matchMedia)})}),u(n)));function u(e){e.forEach(t=>{c(t.itemsArray,t.matchMedia)})}function c(e,t){e.forEach(o=>{S(o,t)})}function S(e,t=!1){e=t?e.item:e;let o=e.querySelectorAll("[data-fls-showmore-content]"),i=e.querySelectorAll("[data-fls-showmore-button]");o=Array.from(o).filter(a=>a.closest("[data-fls-showmore]")===e)[0],i=Array.from(i).filter(a=>a.closest("[data-fls-showmore]")===e)[0];const s=g(e,o);t.matches||!t?s<p(o)?(y(o,0,e.classList.contains("--showmore-active")?p(o):s),i.hidden=!1):(m(o,0,s),i.hidden=!0):(m(o,0,s),i.hidden=!0)}function g(e,t){let o=0;const i=e.dataset.flsShowmore?e.dataset.flsShowmore:"size",s=parseFloat(getComputedStyle(t).rowGap)?parseFloat(getComputedStyle(t).rowGap):0;if(i==="items"){const a=t.dataset.flsShowmoreContent?t.dataset.flsShowmoreContent:3,d=t.children;for(let l=1;l<d.length;l++){const f=d[l-1],H=parseFloat(getComputedStyle(f).marginTop)?parseFloat(getComputedStyle(f).marginTop):0,A=parseFloat(getComputedStyle(f).marginBottom)?parseFloat(getComputedStyle(f).marginBottom):0;if(o+=f.offsetHeight+H,l==a)break;o+=A}s&&(o+=(a-1)*s)}else o=t.dataset.flsShowmoreContent?t.dataset.flsShowmoreContent:150;return o}function p(e){let t,o=e.offsetHeight;e.style.removeProperty("height"),e.closest("[hidden]")&&(t=e.closest("[hidden]"),t.hidden=!1);let i=e.offsetHeight;return t&&(t.hidden=!0),e.style.height=`${o}px`,i}function w(e){const t=e.target,o=e.type;if(o==="click"){if(t.closest("[data-fls-showmore-button]")){const s=t.closest("[data-fls-showmore-button]").closest("[data-fls-showmore]"),a=s.querySelector("[data-fls-showmore-content]"),d=s.dataset.flsShowmoreButton?s.dataset.flsShowmoreButton:"500",l=g(s,a);a.classList.contains("--slide")||(s.classList.contains("--showmore-active")?y(a,d,l):m(a,d,l),s.classList.toggle("--showmore-active"))}}else o==="resize"&&(r&&r.length&&c(r),n&&n.length&&u(n))}}window.addEventListener("load",E);
