function f(){if(location.hash)return location.hash.replace("#","")}function v(e){e=e?`#${e}`:window.location.href.split("#")[0],history.pushState("","",e)}let c=(e,s=500,t=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=s+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=t?`${t}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!t,t||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),t||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},s))},p=(e,s=500,t=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,t&&e.style.removeProperty("height");let i=e.offsetHeight;e.style.overflow="hidden",e.style.height=t?`${t}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=s+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},s)}},P=(e,s=500)=>e.hidden?p(e,s):c(e,s),r=!0,k=(e=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?m(e):y(e)},m=(e=500)=>{if(r){const s=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{s.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),r=!1,setTimeout(function(){r=!0},e)}},y=(e=500)=>{if(r){const s=document.querySelectorAll("[data-fls-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";s.forEach(i=>{i.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.setAttribute("data-fls-scrolllock",""),r=!1,setTimeout(function(){r=!0},e)}};function b(e,s){const t=Array.from(e).filter(o=>o.dataset[s]).map(o=>{const[l,d="max"]=o.dataset[s].split(",");return{value:l,type:d,item:o}});if(t.length===0)return[];const i=t.map(({value:o,type:l})=>`(${l}-width: ${o}px),${o},${l}`);return[...new Set(i)].map(o=>{const[l,d,u]=o.split(","),h=window.matchMedia(l);return{itemsArray:t.filter(a=>a.value===d&&a.type===u),matchMedia:h}})}class w{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(s=>{const i=s.dataset.flsDynamic.trim().split(","),n={};n.element=s,n.parent=s.parentNode,n.destinationParent=i[3]&&s.closest(i[3].trim())||document,i[3]&&i[3].trim();const o=i[0]?i[0].trim():null;if(o){const l=n.destinationParent.querySelector(o);l&&(n.destination=l)}n.breakpoint=i[1]?i[1].trim():"767.98",n.place=i[2]?i[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.objects.push(n)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:s})=>`(${this.type}-width: ${s/16}em),${s}`).filter((s,t,i)=>i.indexOf(s)===t),this.mediaQueries.forEach(s=>{const t=s.split(","),i=window.matchMedia(t[0]),n=t[1],o=this.objects.filter(({breakpoint:l})=>l===n);i.addEventListener("change",()=>{this.mediaHandler(i,o)}),this.mediaHandler(i,o)})}mediaHandler(s,t){s.matches?t.forEach(i=>{i.destination&&this.moveTo(i.place,i.element,i.destination)}):t.forEach(({parent:i,element:n,index:o})=>{n.classList.contains(this.daClassname)&&this.moveBack(i,n,o)})}moveTo(s,t,i){t.classList.add(this.daClassname);const n=s==="last"||s==="first"?s:parseInt(s,10);n==="last"||n>=i.children.length?i.append(t):n==="first"?i.prepend(t):i.children[n].before(t)}moveBack(s,t,i){t.classList.remove(this.daClassname),s.children[i]!==void 0?s.children[i].before(t):s.append(t)}indexInParent(s,t){return[...s.children].indexOf(t)}arraySort(s){if(this.type==="min")s.sort((t,i)=>t.breakpoint===i.breakpoint?t.place===i.place?0:t.place==="first"||i.place==="last"?-1:t.place==="last"||i.place==="first"?1:0:t.breakpoint-i.breakpoint);else{s.sort((t,i)=>t.breakpoint===i.breakpoint?t.place===i.place?0:t.place==="first"||i.place==="last"?1:t.place==="last"||i.place==="first"?-1:0:i.breakpoint-t.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new w);export{c as a,k as b,r as c,b as d,p as e,v as f,f as g,y as h,m as i,P as s};
